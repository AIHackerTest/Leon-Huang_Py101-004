# 几种文件 --> dict的对比
## 公共代码

`15.txt`是天气预报文本文件的前15行，只包含北京各个区的数据，用于测试用

```
file = '../resource/15.txt'
weather = {}
```

## 一、`f.read()`方法
```
with open(file) as f:
    data = f.read()
    print(data)
    print(type(data))
```
其输出结果为

```
北京,晴
海淀,晴
朝阳,晴
顺义,晴
怀柔,晴
通州,晴
昌平,晴
延庆,晴
丰台,晴
石景山,晴
大兴,晴
房山,晴
密云,晴
门头沟,晴
平谷,晴
<class 'str'>
```
这里data的类型是字符串，实际上`data == "北京,晴\n海淀,晴\n......"`
使用`split()`函数将一长串字符串转换为一个长List，再对List进行操作

```
	data = data.split()
	print(data)
	
['北京,晴', '海淀,晴', '朝阳,晴', '顺义,晴', '怀柔,晴', '通州,晴', '昌平,晴', '延庆,晴', '丰台,晴', '石景山,晴', '大兴,晴', '房山,晴', '密云,晴', '门头沟,晴', '平谷,晴']
```
接下来可以对List中的每个元素进行操作，从而得到Dict了

```
    for i in data:
        info = i.split(',')   		# 变成15个短list了
        print(info)
        weather[info[0]] = info[1]
['北京', '晴']
['海淀', '晴']
['朝阳', '晴']
['顺义', '晴']
['怀柔', '晴']
['通州', '晴']
['昌平', '晴']
['延庆', '晴']
['丰台', '晴']
['石景山', '晴']
['大兴', '晴']
['房山', '晴']
['密云', '晴']
['门头沟', '晴']
['平谷', '晴']
```
```
	print(weather)
{'北京': '晴', '海淀': '晴', '朝阳': '晴', '顺义': '晴', '怀柔': '晴', '通州': '晴', '昌平': '晴', '延庆': '晴', '丰台': '晴', '石景山': '晴', '大兴': '晴', '房山': '晴', '密云': '晴', '门头沟': '晴', '平谷': '晴'}
```

## 二、`f.readlinds()`方法

实际上`f.readlings()`和`f.read()`很相似，区别在于`f.read()`生成的是字符串，`f.readlines()`直接生成List

```
with open(file) as f:
    data = f.readlines()
    print(type(data))
    print(data)
    
<class 'list'>
['北京,晴\n', '海淀,晴\n', '朝阳,晴\n', '顺义,晴\n', '怀柔,晴\n', '通州,晴\n', '昌平,晴\n', '延庆,晴\n', '丰台,晴\n', '石景山,晴\n', '大兴,晴\n', '房山,晴\n', '密云,晴\n', '门头沟,晴\n', '平谷,晴']
```

后续直接用for循环操作即可

## 三、`f.readline()`方法
前面两种方法一次读取整个文件，而`f.readline()`每次只读取一行，通常用法为：

```
f = open(file, 'r')
for line in f:
    info = line.strip().split(',')
    weather[info[0]] = info[1]
    print(info)
print(weather)

f.close()			# 最后要记得手动关闭文件
					# with open(file) as f 系统会自动关闭文件

['北京', '晴']
['海淀', '晴']
['朝阳', '晴']
['顺义', '晴']
['怀柔', '晴']
['通州', '晴']
['昌平', '晴']
['延庆', '晴']
['丰台', '晴']
['石景山', '晴']
['大兴', '晴']
['房山', '晴']
['密云', '晴']
['门头沟', '晴']
['平谷', '晴']

{'北京': '晴', '海淀': '晴', '朝阳': '晴', '顺义': '晴', '怀柔': '晴', '通州': '晴', '昌平': '晴', '延庆': '晴', '丰台': '晴', '石景山': '晴', '大兴': '晴', '房山': '晴', '密云': '晴', '门头沟': '晴', '平谷': '晴'}
```










